{% extends "base.html" %}

{% block titleExtra %} | Home {% endblock %}

{% block bodyscripts %}
    <script type="text/javascript"> 
    jQuery(".tagManager").tagsManager({
        preventSubmitOnEnter: true,
        typeahead: true,
        typeaheadAjaxSource: null,
        typeaheadSource: ["Princeton", "Family", "Friends"],
        blinkBGColor_1: '#FFFF9C',
        blinkBGColor_2: '#CDE69C',
    });</script>
{% endblock %}

{% block grayBlock %}
    <div class="page-title">
        <div class="container">
            <div class="row buckit_blue">
                    <h1 class="span1"><i class="icon-user page-title-icon"></i></h1>
                    <h1 class="span5">{{ name }} Molly Nacey</h1>
            </div>
        </div>
    </div>
{% endblock %}

{% block Content %}
<div class="container">
    <div class="row">
        <div class="span7">
            <div class="row">
                <h2>My BuckIt List</h2>
            </div>
            <div class="row">
                <div class="add-task">
                    <div class="task-form">
                        <form class="form-inline" method="post" action=".">{% csrf_token %}
                            <input id="name" type="text" name="task" placeholder="Add a new task..."/>
                            <input type="text" name="tags" placeholder="Add tags..." class="tagManager"/>
                            <button type="submit" name="addTask"> + </button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">

                <table class="table">
                {% for task in tasks %}
                    <tr><td><input type="checkbox" value="option2" id="taskcheck"></td>
                    <td>{{task.task_text}}</td>
                    <td>{{task.date_set}}</td>
                    
                    <td>{{task.date_done}}</td>
                    {% for tag in task.tags.all %}
                        #{{tag.tag_text}}
                    {% endfor %}
                </tr>
                {% endfor %}
            </table>
            </div>
        </div>
        <div class="container offset1 span4">
                <div class="row  rec_title">
                    <h4>Recommended Task:</h4>
                </div>
                <div class="row rec_title">
                    <div class="rec span1">
                        <p><a>Visit all 50 states</a></p>
                    </div>
                    <div class="rec span1">
                        <p><a>Go to every Starbucks</a></p>
                    </div>
                    <div class="rec span1">
                        <p><a>Graduate from Princeton</a></p>
                    </div>
                    <div class="rec span1">
                        <p><a>Get a job</a></p>
                    </div>
                </div>
            <div class="newsfeed">
                <div class ="row">
                    <div class ="news">
                        <h4>News Feed</h4>
                    </div>
                </div>
                {% for event in newsevents%}
                <div class="row">
                    <div class="news">
                            <img src="static/img/portfolio/work1.jpg" alt="">
                            {% if event.isCompleted %}
                                <p>{{event.complete_date}}<br>{{event.user}} completed {{event.event}}</p>
                            {% else %}
                                <p>{{event.complete_date}}<br>{{event.user}} completed {{event.event}}</p>
                            {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}